# 储存管理

## 概述

### 符号名空间、逻辑地址与物理地址

### OS存储管理功能

- 分配与回收
- 地址重定位

	- 动态
	- 静态

- 存储保护

	- 上下界存储保护
	- 基址-限长保护

- 虚拟存储

## 连续存储管理

### 固定分区

- 静态重定位
- 上下界寄存器
- 缺点：易产生内部碎片
- 优点：简单，要求硬件支持少，软件算法也简单

### 可变分区

- 静态、动态重定位
- 基址-限长存储保护方式
- 优点：有效解决固定分区产生内部碎片问题，有效理由内存
- 缺点：经过若干次分配，会产生外部碎片

### 外碎片与内碎片

- 分配单元内未使用的内存称为内碎片
- 分配单元之间的未使用内存称为外碎片

### 分区适应算法

- 首次适应
- 最佳适应
- 最差适应
- 各自优缺点

### 内存不足技术

- 紧凑技术

	- 通过移动分配给紧凑的内存分区以合并外部碎片
	- 要求APP支持动态重定位
	- 时机：等待状态
	- 开销大

- 交互技术
- 覆盖技术
- 覆盖与交换比对

### 伙伴系统

## 分页式存储管理

### 基本思想

### 空闲块组织方式

- 位图法
- 链表法

	- 由于大小相同，只需维护一个空闲链表头指针即可，回收时按头插法

### 动态地址重定位

- 两次内存访问（无联想存储器）

### 联想存储器（高速缓存）

## 分段式存储管理

### 基本思想

### 地址重定位

- 两次内存访问（无快表）

### 分段与分页区别

## 段页式存储管理

### 基本思想

- 分页存储管理能有效地提高内存的利用率, 而分段存储管理能够反映程序的逻辑结构以满足用户的需要, 并还可以实现段的共享
- 段页式存储管理则是分页和分段两种存储管理方式的结合,它同时具备两者的优点

### 地址重定位

### 三次内存访问

- 1.查段表
- 2.查页表
- 3.形成实际地址并寻址
- 可用快表优化

## 虚存管理

### 基本思想

- 把内存与外存统一起来形成一个存储器
- 作业运行时, 只把必需的一部分信息调入内存, 其余部分仍放在外存, 当需要时, 由系统自动将其从外存调入内存

### 局部性原理

- 时间局部性

	- 被执行的指令或访问的数据, 不久后可能再次被执行或访问

- 空间局部性

	- 某个存储单元被访问, 则其附近的存储单元也将被访问

### 有效访问时间

### 页面置换算法

- 最优算法 OPT
- 先进先出FIFO
- 最近最久未使用算法LRU
- LRU近似
- 时钟clock

### 其他置换算法

- 最不常用算法LFU
- 工作集置换

### 系统抖动

