# 进程管理

## 程序顺序执行特点

### 一

- 顺序性
- 独占资源
- 结果无关性

### 二

- 顺序性
- 封闭性
- 结果无关性

## 进程定义

### 可并发程序在一个数据集合上运行的过程

### 系统资源分配单位

## 进程执行的特点

### 动态性

### 并发性

### 结构特性

### 独立性

### 异步性（不确定性）

## 进程与程序区别

## 线程（CPU调度基本单位）

### 引入线程目的

### 与进程区别

### 线程的优点

### 拓展

- 内核级线程（轻量级进程）
- 用户级线程
- 线程状态图及调度

## 多进程和多线程适用场景

### 多线程适合IO密集型

### 多进程适合计算密集型

### 由于现代CPU速度远快于存储设备，因此系统更关心IO密集型操作效率

## 进程控制

### PCB大概作用

### PCB组织三种组织形式

- 顺序表
- 链表
- 索引表

### 原语

### 进程的创建、撤销、阻塞和唤醒

## 同步互斥

### 同步和互斥区别

### 临界区和临界资源

- 某段时间内只能允许一个进程使用的资源成为临界资源
- 访问临界资源的代码块称为临界区

### 互斥工具

- 硬件方式

	- 禁用中断
	- 专用机器指令

		- testset
		- exchange

- 软件算法

	- dekker算法
	- peterson谦让型算法
	- barber面包房算法

- 高级抽象

	- 锁

		- 自旋锁

	- 信号量

		- PV前驱图

	- 管程

		- Hoare管程，谦让型
		- Hansen管程，OS实际采用

### 经典同步问题

- 生产者与消费者
- 哲学家就餐
- 读者写者

## 进程调度

### 进程状态转换图

### 引起调度的五大原因，P61

- 正在运行的进程运行完毕
- 运行中的进程要求I/O操作
- 执行某种原语(比如P操作)导致进程阻塞
- 分配给运行的进程的时间片已经用完等

### 常见调度算法（注意可抢占）

- FCFS
- 时间片轮转
- 短进程优先
- 高响应比优先
- 优先级

### CPU调度准则

- 基本准则

	- CPU利用率
	- 吞吐率
	- 周转时间
	- 带权周转时间
	- 等待时间
	- 响应时间

- 面向用户准则

	- 周转时间短
	- 响应时间短
	- 截止时间的保证
	- 优先权准则

- 面向系统准则

	- 系统吞吐量高
	- 处理机利用率高
	- 各类资源的均衡利用

### 短程调度、中程调度和长程调度

## 进程通信

### 共享内存

### 消息队列

### 管道

### 同步互斥也是一种交换信息少的低级通信

## 死锁

### 死锁四大条件

### 死锁预防

### 死锁避免

### 死锁检测

- 死锁检测不能保证避免死锁，
只能确定当前是否存在死锁


### 死锁恢复

### 预防与避免区别

### 死锁检测（安全序列）

### 进程资源分配图

### 实际OS面对死锁态度

- 什么也不做

